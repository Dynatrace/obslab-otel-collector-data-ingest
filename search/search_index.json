{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Ingest Telemetry Data to Dynatrace using the OpenTelemetry Collector","text":"<p>Support Policy</p> <p>This is a demo project created by the Developer Relations team at Dynatrace, showcasing integrations with open source technologies.</p> <p>Support is provided via GitHub issues only. The materials provided in this repository are offered \"as-is\" without any warranties, express or implied. Use them at your own risk.</p> <p>View the Code</p> <p>The code for this repository is hosted on GitHub. Click the \"View Code on GitHub\" link above.</p> <p>Select Execution Mode</p> <p>Please choose a way to run this demo. When you have chosen, leave the selection toggled as this ensure the correct instructions are given throughout this tutorial.</p> Run in CloudRun Locally <p>This is the easiest option. A new tab will open in your browser and everything necessary will be pre-installed.</p> <p>This option uses GitHub Codespaces and is usually free (GitHub provides credits each month).</p> <p>Use this option if you want to run this demo on your own machine.</p> <p> M3 and M4 Macs seem to currently have issues with Docker. We are investigating. If you have issues, choose the \"Run in Cloud\" option for now.</p> <p>To make this work, you'll need the following installed:</p> <ul> <li>Visual Studio Code</li> <li>The Microsoft Dev Containers extension in Visual Studio Code</li> <li>The Dev Containers CLI</li> <li>Ability to clone this repository locally (if you don't know what this means, use the \"run in cloud\" option)</li> </ul> <p>This hands-on demo will guide you through the process of ingesting telemetry data (metrics, logs and traces) using the Dynatrace OpenTelemetry collector.</p> <p>This demo uses the OpenTelemetry demo application and the Dynatrace OpenTelemetry collector distribution (why might I want to use the Dynatrace OTEL Collector?).</p> <ul> <li>Click Here to Begin </li> </ul>"},{"location":"access-ui/","title":"4. Access User Interface","text":""},{"location":"access-ui/#access-the-demo-user-interface","title":"Access The Demo User Interface","text":"<p>Note: This step is optional because there is a load generator already running. Observability data will be flowing into Dynatrace.</p> <p>Expose the user interface on port 8080 by port-forwarding:</p> <pre><code>kubectl -n default port-forward svc/frontend-proxy 8080:8080\n</code></pre> <p>Go to the <code>Ports</code> tab, right click the port <code>8080</code> and choose \"Open in Browser\".</p> <p>You should see the OpenTelemetry demo application.</p> <p></p> <ul> <li>Click Here to Continue </li> </ul>"},{"location":"cleanup/","title":"Cleanup","text":"<p>Go to https://github.com/codespaces and delete the codespace which will delete the demo environment.</p>"},{"location":"getting-started/","title":"2. Getting Started","text":""},{"location":"getting-started/#gather-details-tenant-id-environment","title":"Gather Details: Tenant ID &amp; Environment","text":"<p>You will need access to a Dynatrace tenant. If you do not have access, sign up for a free 15 day trial.</p> <p>Make a note of your Dynatrace tenant ID. It is the first bit of your URL (eg. <code>abc12345</code> in the following examples):</p> <pre><code>https://abc12345.live.dynatrace.com\nhttps://abc12345.apps.dynatrace.com\n</code></pre>"},{"location":"getting-started/#gather-details-environment-type","title":"Gather Details: Environment Type","text":"<p>Make a note of your \"environment type\" based on your URL.</p> <p>If you are unsure, use <code>live</code>.</p> URL Environment Type abc12345.apps.dynatrace.com live abc12345.live.dynatrace.com live abc12345.sprint.dynatracelabs.com sprint abc12345.dev.dynatracelabs.com dev"},{"location":"getting-started/#gather-details-create-api-token","title":"Gather Details: Create API Token","text":"<p>In Dynatrace:</p> <ul> <li>Press <code>ctrl + k</code>. Search for <code>access tokens</code>.</li> <li>Create a new access token with the following permissions:<ul> <li><code>metrics.ingest</code></li> <li><code>logs.ingest</code></li> <li><code>openTelemetryTrace.ingest</code></li> </ul> </li> </ul>"},{"location":"getting-started/#start-demo","title":"Start Demo","text":"Run in CloudRun Locally <p>Enter Required Information</p> <p>During the next step you will be prompted for some details.</p> <p>Enter the relevant details in the GitHub form.</p> <p>Click this button to launch the demo in a new tab.</p> <p></p> <ul> <li>Clone the repository to your local machine</li> </ul> <pre><code>git clone https://github.com/dynatrace/obslab-otel-collector-data-ingest\n</code></pre> <ul> <li>Open the folder in Visual Studio code</li> <li>Ensure the Microsoft Dev Containers extension and Dev Containers CLI are installed in VSCode</li> <li>Open a new terminal in VSCode and set your environment variables as appropriate:</li> </ul> <pre><code>set DT_ENVIRONMENT_ID=abc12345\nset DT_ENVIRONMENT_TYPE=live\nset DT_API_TOKEN=dt0c01.******.***********\n</code></pre> <ul> <li>Start Docker / Podman</li> <li>Create the environment</li> </ul> <pre><code>devcontainer up\n</code></pre> <p>It will take a few moments but you should see:</p> <pre><code>{\"outcome\":\"success\",\"containerId\":\"...\",\"remoteUser\":\"root\",\"remoteWorkspaceFolder\":\"/workspaces/obslab-k6\"}\n</code></pre> <ul> <li>Connect to the demo environment. This will launch a new Visual Studio Code window <pre><code>devcontainer open\n</code></pre></li> </ul> <p>In the new Visual Studio code window, open a new terminal and continue with the tutorial.</p> <p>You will now have an empty Kubernetes cluster. It is time to install the applications.</p> <ul> <li>Click Here to Install Components </li> </ul>"},{"location":"install-opentelemetry-components/","title":"3. Install Components","text":""},{"location":"install-opentelemetry-components/#create-a-kubernetes-secret","title":"Create a Kubernetes secret","text":"<p>Use <code>kubectl</code> to create a <code>Secret</code> to store your Dynatrace connection details.</p> <p>Copy and paste the following code block as-is.</p> <pre><code>source .env\nkubectl create secret generic dynatrace-otelcol-dt-api-credentials \\\n--from-literal=DT_ENDPOINT=$DT_URL/api/v2/otlp \\\n--from-literal=DT_API_TOKEN=$DT_API_TOKEN\n</code></pre> <p>You should see this: <code>secret/dynatrace-otelcol-dt-api-credentials created</code></p>"},{"location":"install-opentelemetry-components/#add-opentelemetry-helm-charts-and-update","title":"Add OpenTelemetry Helm charts and Update","text":"<p>Copy and paste the following to add the OpenTelemetry Helm chart and update it to the latest versions.</p> <pre><code>helm repo add open-telemetry https://open-telemetry.github.io/opentelemetry-helm-charts\nhelm repo update\n</code></pre>"},{"location":"install-opentelemetry-components/#configure-and-install-dynatrace-opentelemetry-collector","title":"Configure and Install Dynatrace OpenTelemetry Collector","text":"<p>The OpenTelemetry collector requires a configuration file.</p> <p>This is already available in the environment. See collector-values.yaml</p> <p>You do not need to modify this file.</p> <p>Install the collector by copy and pasting this content:</p> <pre><code>helm upgrade -i dynatrace-collector open-telemetry/opentelemetry-collector -f collector-values.yaml\n</code></pre> <p>After Helm indicates it has installed, run the following command and you should see a pod either <code>Pending</code> or <code>Running</code>.</p> <pre><code>kubectl get pods\n</code></pre> <p>Wait and periodically re-run <code>kubectl get pods</code> until the Pod is <code>Running</code>.</p>"},{"location":"install-opentelemetry-components/#install-opentelemetry-demo","title":"Install OpenTelemetry Demo","text":"<p>Use Helm to install the OpenTelemetry demo system, passing the configuration file (already created for you - see otel-demo-values.yaml).</p> <p>This is a demo website we will use to generate OpenTelemetry data (logs, metrics and traces).</p> <pre><code>helm upgrade -i my-otel-demo open-telemetry/opentelemetry-demo -f otel-demo-values.yaml\n</code></pre> <p>The Pods may take 2-3 minutes to start, but running <code>kubectl get pods</code> should eventually show the pods running.</p> <ul> <li>Click Here to Continue </li> </ul>"},{"location":"resources/","title":"Resources","text":""},{"location":"resources/#why-would-i-use-the-dynatrace-otel-collector","title":"Why would I use the Dynatrace OTEL Collector?","text":"<p>See here.</p>"},{"location":"view-observability-data/","title":"5. View Observability Data","text":""},{"location":"view-observability-data/#query-and-view-observability-data","title":"Query and View Observability Data","text":"<p>In Dynatrace, press <code>Ctrl + k</code> again and search for <code>Notebooks</code>.</p> <p>Create a new notebook and add a new section exploring the logs.</p> <p>Add a new section and choose <code>Query Grail</code>. This section type allows you to write your own Dynatrace Query Language (DQL) to have full control over the data you retrieve.</p> <p>Type: <code>fetch spans</code> in the DQL box and execute the query.</p>"},{"location":"view-observability-data/#click-here-to-cleanup-resources","title":"Click Here to Cleanup resources...","text":""},{"location":"whats-next/","title":"What's Next?","text":"<p>TODO</p> <p>Content about how the user progresses after this demo...</p>"},{"location":"whats-next/#resources","title":"Resources","text":""},{"location":"snippets/codespace-details-warning-box/","title":"Codespace details warning box","text":"<p>Enter Required Information</p> <p>During the next step you will be prompted for some details.</p> <p>Enter the relevant details in the GitHub form.</p>"},{"location":"snippets/disclaimer/","title":"Disclaimer","text":"<p>Support Policy</p> <p>This is a demo project created by the Developer Relations team at Dynatrace, showcasing integrations with open source technologies.</p> <p>Support is provided via GitHub issues only. The materials provided in this repository are offered \"as-is\" without any warranties, express or implied. Use them at your own risk.</p>"},{"location":"snippets/select-execution-mode/","title":"Select execution mode","text":"<p>Select Execution Mode</p> <p>Please choose a way to run this demo. When you have chosen, leave the selection toggled as this ensure the correct instructions are given throughout this tutorial.</p> Run in CloudRun Locally <p>This is the easiest option. A new tab will open in your browser and everything necessary will be pre-installed.</p> <p>This option uses GitHub Codespaces and is usually free (GitHub provides credits each month).</p> <p>Use this option if you want to run this demo on your own machine.</p> <p> M3 and M4 Macs seem to currently have issues with Docker. We are investigating. If you have issues, choose the \"Run in Cloud\" option for now.</p> <p>To make this work, you'll need the following installed:</p> <ul> <li>Visual Studio Code</li> <li>The Microsoft Dev Containers extension in Visual Studio Code</li> <li>The Dev Containers CLI</li> <li>Ability to clone this repository locally (if you don't know what this means, use the \"run in cloud\" option)</li> </ul>"},{"location":"snippets/tenant-id/","title":"Tenant id","text":""},{"location":"snippets/tenant-id/#gather-details-tenant-id-environment","title":"Gather Details: Tenant ID &amp; Environment","text":"<p>You will need access to a Dynatrace tenant. If you do not have access, sign up for a free 15 day trial.</p> <p>Make a note of your Dynatrace tenant ID. It is the first bit of your URL (eg. <code>abc12345</code> in the following examples):</p> <pre><code>https://abc12345.live.dynatrace.com\nhttps://abc12345.apps.dynatrace.com\n</code></pre>"},{"location":"snippets/tenant-id/#gather-details-environment-type","title":"Gather Details: Environment Type","text":"<p>Make a note of your \"environment type\" based on your URL.</p> <p>If you are unsure, use <code>live</code>.</p> URL Environment Type abc12345.apps.dynatrace.com live abc12345.live.dynatrace.com live abc12345.sprint.dynatracelabs.com sprint abc12345.dev.dynatracelabs.com dev"},{"location":"snippets/view-code/","title":"View code","text":"<p>View the Code</p> <p>The code for this repository is hosted on GitHub. Click the \"View Code on GitHub\" link above.</p>"}]}